<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ë””ì§€í„¸ ë””ìì¸ íŒ¨í„´ ìŠ¤íŠœë””ì˜¤</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Song+Myung&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: "Song Myung", serif;
            margin: 0;
            padding: 0;
            background-color: #F8F8F8;
            color: #f0e5d7;
            scroll-behavior: smooth; 
            overflow-x: hidden; /* ê°€ë¡œ ìŠ¤í¬ë¡¤ ë°©ì§€ */
        }
        
        /* ----------------------------------- */
        /* âœ¨ ëˆˆ íš¨ê³¼ ìº”ë²„ìŠ¤ ìŠ¤íƒ€ì¼ */
        /* ----------------------------------- */
        #snowCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; /* ë§ˆìš°ìŠ¤ í´ë¦­ ë¬´ì‹œ */
            z-index: 99; /* ë„¤ë¹„ê²Œì´ì…˜ë°”(100) ì•„ë˜ì— ìœ„ì¹˜ */
        }

        /* ----------------------------------- */
        /* ì „ì²´ ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
        .page-section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 50px 0;
        }

        /* 1. íƒ€ì´í‹€ í˜ì´ì§€ */
        #title-page {
            background-color: #6f1627;
            color: #f0e5d7;
            position: relative;
            height: 300px;
        }
        #title-page p { 
            font-size: 1.5em;
            padding-bottom: 200px;
            margin-top: -50px;
        }

        /* ë„¤ë¹„ê²Œì´ì…˜ ìŠ¤íƒ€ì¼ (ìˆ˜ì •ë¨) */
        nav {
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            background: rgba(0,0,0,0.8); 
            padding: 10px 0; 
            z-index: 100;
            display: flex;
            justify-content: center; 
            align-items: center;
        }
        
        /* ë„¤ë¹„ê²Œì´ì…˜ ë§í¬ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
        nav .nav-links {
            display: flex;
            padding: 0 60px; 
        }

        nav a {
            color: white; 
            margin: 0 15px; 
            text-decoration: none;
        }
        
        /* âœ¨ ëˆˆ íš¨ê³¼ í† ê¸€ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        #snowToggle {
            position: absolute; 
            right: 20px; 
            top: 50%;
            transform: translateY(-50%);

            background-color: transparent; 
            border: 1px solid white; 
            border-radius: 4px;
            color: white;
            font-size: 1em; 
            cursor: pointer;
            padding: 5px 10px; 
            transition: all 0.2s;
            line-height: 1.5; 
        }
        #snowToggle:hover {
            color: #fce8a9;
            border-color: #fce8a9;
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* íƒ€ì´í‹€ ì›í˜• ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .intro-link-circle {
            position: absolute;
            bottom: 5%; 
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 150px;
            background-color: #a03c4f; 
            border-radius: 50%;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            z-index: 50; 
        }
        .intro-link-circle:hover {
            background-color: #b35667;
            transform: translateX(-50%) scale(1.05);
        }
        .intro-link-circle a {
            color: #fce8a9;
            text-decoration: none;
            font-size: 1.2em;
            font-weight: bold;
            line-height: 1.4;
        }

        /* 2. í”„ë¡œì íŠ¸ ì†Œê°œ í˜ì´ì§€ */
        #intro-page {
            background-color: #33583d;
            padding: 80px 20%;
            padding-bottom: 250px; 
            text-align: left;
            position: relative; 
        }
        #intro-page h2 { color: #fce8a9; font-size: 2.5em; margin-bottom: 30px; text-align: center; }
        .pattenre{
            width: 100%;
        }
        .pattenre img{
            width: 44%;
            height: 50%;
            margin-left: 3%;
        }
        /* ìƒˆë¡œ ì¶”ê°€ëœ ì›í˜• ë²„íŠ¼ ìŠ¤íƒ€ì¼ (ì¤‘ì•™ ì •ë ¬ ìœ ì§€) */
        .intro-to-editor-circle {
            position: absolute; 
            bottom: 2%; 
            left: 45%;
            transform: translateX(-50%); 
            width: 150px;
            height: 150px;
            background-color: #a03c4f; 
            border-radius: 50%;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            z-index: 50; 
        }
        .intro-to-editor-circle:hover {
            background-color: #b35667;
            transform: translateX(-50%) scale(1.05);
        }
        .intro-to-editor-circle a {
            color: #fce8a9; 
            text-decoration: none;
            font-size: 1.2em;
            font-weight: bold;
            line-height: 1.4;
        }

        /* ì½˜í…ì¸  ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
        .content-box {
            background-color: #44684f;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        .content-box h3 {
            color: #fce8a9;
            border-bottom: 2px solid #557960;
            padding-bottom: 10px;
            margin-top: 0;
        }
        .content-box table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        .content-box th, .content-box td {
            border: 1px solid #557960;
            padding: 12px;
            text-align: left;
            color: #f0e5d7;
        }
        .content-box th {
            background-color: #33583d;
            font-weight: bold;
            width: 20%;
        }
        .concept-text {
            color: #d1c1b1;
            font-size: 1.1em;
            margin-bottom: 15px;
        }
        .challenge-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        .challenge-item {
            background-color: #33583d;
            padding: 20px;
            border-radius: 8px;
        }
        .challenge-item strong {
            color: #fce8a9;
            display: block;
            margin-bottom: 5px;
        }
        .challenge-item p {
            font-size: 0.9em;
            color: #d1c1b1;
            margin-top: 5px;
        }

        /* ----------------------------------- */
        /* ì• ë‹ˆë©”ì´ì…˜ ìŠ¤íƒ€ì¼ */
        /* ----------------------------------- */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .fade-up {
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.6s ease-out; 
        }
        .fade-up.in-view {
            animation: fadeInUp 0.8s ease-out forwards;
        }
        /* ----------------------------------- */


        /* 3. íŒ¨í„´ ì œì‘ í˜ì´ì§€ */
        #editor-page {
            background-color: #f0e5d7; 
            flex-direction: row; 
            align-items: center; 
            justify-content: center;
            padding: 80px 5%;
        }
        #controls-container {
            width: 350px;
            background-color: #6f1627; 
            color: #f0e5d7;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);
            margin-right: 60px;
            height: fit-content; 
        }
        #controls-container h2 {
            color: #fce8a9; 
            margin-top: 0;
            border-bottom: 2px dashed #a03c4f;
            padding-bottom: 10px;
        }
        #controls-container h4 {
            color: #f0e5d7;
            margin-top: 20px;
        }
        #patternTypeSelector {
            display: flex; 
            justify-content: space-around; 
            background-color: #4f0e1a; 
            padding: 10px; 
            border-radius: 5px;
        }
        #patternTypeSelector label {
            color: #f0e5d7;
            font-weight: normal;
            display: flex;
            align-items: center;
            gap: 5px;
            cursor: pointer;
        }
        #patternTypeSelector input[type="radio"] {
            width: auto;
            margin-right: 5px;
            accent-color: #fce8a9;
        }
        #patternControls {
            display: flex;
            flex-wrap: wrap; 
            gap: 15px; 
        }
        .control-group { 
            margin-bottom: 15px; 
            text-align: left;
            flex: 1 1 calc(50% - 15px); 
            min-width: 120px; 
        }
        #moduleSizeGroup {
             flex: 1 1 100%; 
        }
        #lineWidthGroup {
             flex: 1 1 calc(50% - 15px); 
        }

        .control-group label { 
            color: #fce8a9; 
            font-weight: bold; 
            display: block; 
            margin-bottom: 5px; 
        }
        /* âœ¨ ìˆ˜ì •: select íƒœê·¸ë„ í¬í•¨í•˜ì—¬ ìŠ¤íƒ€ì¼ í†µì¼ */
        input[type="number"], input[type="color"], select {
            width: 90%;
            padding: 8px;
            border: 1px solid #a03c4f;
            border-radius: 5px;
            background-color: #4f0e1a; 
            color: #f0e5d7; 
        }
        input[type="color"] {
            height: 40px;
        }
        #button-group {
            flex: 1 1 100%;
            margin-top: 10px;
        }
        
        /* 'íŒ¨í„´ ì œì‘' ë²„íŠ¼ (ë¯¸ë¦¬ë³´ê¸°) */
        .create-button {
            width: 100%;
            padding: 12px;
            background-color: #33583d; 
            color: white;
            border-radius: 6px;
            font-weight: bold;
            transition: background-color 0.2s;
            margin-top: 5px;
        }
        .create-button:hover { background-color: #24402b; }
        
        /* 'ë‹¤ìš´ë¡œë“œ' ë²„íŠ¼ */
        .download-button {
            width: 100%;
            padding: 12px;
            background-color: #fce8a9; 
            color: #6f1627; 
            border-radius: 6px;
            font-weight: bold;
            transition: background-color 0.2s;
            margin-top: 10px;
        }
        .download-button:hover { background-color: #f0d889; }
        
        /* 'ëª©ì—… ë³´ëŸ¬ê°€ê¸°' ë²„íŠ¼ */
        .mockup-link-button {
            width: 100%;
            padding: 12px;
            background-color: #557960; 
            color: white;
            border-radius: 6px;
            font-weight: bold;
            transition: background-color 0.2s;
            margin-top: 10px; 
            border: none;
            cursor: pointer;
        }
        .mockup-link-button:hover { 
            background-color: #33583d;
        }

        #canvas-container {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        #canvas-container h3 {
            color: #6f1627; 
            font-size: 2em;
        }
        #patternCanvas {
            border: 10px solid #a03c4f; 
            background-color: #fff;
            box-shadow: 0 0 25px rgba(0, 0, 0, 0.3);
            border-radius: 4px;
        }
        #instructionText {
            margin-top: 15px; 
            color: #6f1627; 
            font-style: italic;
        }
        
        /* 4. ëª©ì—… í˜ì´ì§€ */
        #mockup-page {
            background-color: #44684f;
            color: #f0e5d7;
            padding: 80px 0;
            min-height: 100vh;
        }
        #mockup-page h2 { 
            color: #fce8a9; 
            font-size: 2.5em; 
            margin-bottom: 40px; 
        }
        
        /* ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .category-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 50px;
        }
        .category-button {
            padding: 15px 30px;
            font-size: 1.2em;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            background-color: #33583d;
            color: #f0e5d7;
            transition: background-color 0.2s, transform 0.1s;
        }
        .category-button:hover {
            background-color: #557960;
            transform: translateY(-2px);
        }
        .category-button.active {
            background-color: #6f1627; 
            border: 3px solid #fce8a9;
        }
        
        /* ğŸ–¼ï¸ ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬ ìŠ¤íƒ€ì¼ (4ì—´) */
        #image-gallery {
            display: grid; 
            grid-template-columns: repeat(4, 1fr); 
            gap: 20px; 
            width: 90%; 
            max-width: 1200px;
            margin: 0 auto;
            min-height: 300px; 
            background-color: rgba(0, 0, 0, 0.1);
            padding: 30px;
            border-radius: 10px;
        }
        
        /* ëª©ì—… ì´ë¯¸ì§€ ì»¨í…Œì´ë„ˆ */
        .mockup-image-box {
            aspect-ratio: 1 / 1; 
            background-color: #557960; 
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #fce8a9;
            font-style: italic;
            border-radius: 6px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            font-size: 1.1em;
            text-align: center;
            padding: 10px;
            overflow: hidden; /* ì´ë¯¸ì§€ ì˜¤ë²„í”Œë¡œìš° ë°©ì§€ */
        }
        
        /* ëª©ì—… ì´ë¯¸ì§€ ìì²´ ìŠ¤íƒ€ì¼ */
        .mockup-image-box img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* ì´ë¯¸ì§€ê°€ ì»¨í…Œì´ë„ˆë¥¼ ê°€ë“ ì±„ìš°ë„ë¡ */
        }
        
        /* 5. í‘¸í„° ìŠ¤íƒ€ì¼ */
        footer {
            background-color: #6f1627; 
            color: #f0e5d7;
            padding: 30px 20px;
            text-align: center;
            font-size: 0.9em;
            border-top: 5px solid #a03c4f; 
        }
        footer p {
            margin: 5px 0;
        }
        footer a {
            color: #fce8a9;
            text-decoration: none;
            transition: color 0.2s;
        }
        footer a:hover {
            color: #FFFFFF;
            text-decoration: underline;
        }

        /* ----------------------------------- */
        /* âœ¨ FIX: ì¬ì§ˆ/í…ìŠ¤ì²˜ ì„¤ì • í•­ëª© ê¸°ë³¸ ë ˆì´ì•„ì›ƒ */
        /* ----------------------------------- */
        #textureSettings {
            flex: 1 1 100%; 
            display: flex; 
            flex-wrap: wrap; 
            gap: 15px;
        }

    </style>
</head>
<body>
    
    <canvas id="snowCanvas"></canvas>


    <section id="title-page" class="page-section">
        <nav>
            <div class="nav-links">
                <a href="#title-page"> HOME</a>
                <a href="#intro-page"> PROJECT</a>
                <a href="#editor-page"> PATTERN</a>
                <a href="#mockup-page"> MOCKUP</a>
            </div>
            <button id="snowToggle" onclick="toggleSnow()">â„ï¸ SNOW OFF</button>
        </nav>
         <img src="https://cdn.discordapp.com/attachments/1384512279030136905/1446845554121511045/KakaoTalk_20251206_214423911.png?ex=6935776d&is=693425ed&hm=7e5242bfd1916889ba1f2a33552d15c2208dbb0108bc2a821b7ea68d6f5c7607" alt="í¬ë¦¬ìŠ¤ë§ˆìŠ¤ íŒ¨í„´ ìŠ¤íŠœë””ì˜¤" style="width: 1000px; max-width: 60%; height: auto;">
        <p>í¬ë¦¬ìŠ¤ë§ˆìŠ¤ íŒ¨í„´ ì œì‘ í”„ë¡œì íŠ¸</p>
        
        <div class="intro-link-circle">
            <a href="#intro-page">
                í”„ë¡œì íŠ¸ë€?<br>
                
            </a>
        </div>
        
    </section>

    <section id="intro-page" class="page-section">
        <h2>ğŸ’¡ í”„ë¡œì íŠ¸ ì†Œê°œ: í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ë‹ˆíŠ¸ íŒ¨í„´</h2>

        <div class="content-box fade-up">
            <h3>ğŸ§£ íŒ¨í„´ ì„¤ëª…</h3>
            <table>
                <tr>
                    <th>íŒ¨í„´ëª…</th>
                    <td>í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ë‹ˆíŠ¸ íŒ¨í„´ (Christmas Knit Pattern)</td>
                </tr>
                <tr>
                    <th>ë””ìì¸ ì»¨ì…‰</th>
                    <td>ê²¨ìš¸ì˜ ë”°ëœ»í•¨ê³¼ í¬ë¦¬ìŠ¤ë§ˆìŠ¤ì˜ ê°ì„±ì„ ë‹´ì€ "í•˜íŠ¸ ë‹ˆíŠ¸ í…Œì…€ë ˆì´ì…˜"</td>
                </tr>
            </table>
            <p class="concept-text" style="margin-top: 15px;">
                ë‹¤ê°€ì˜¤ëŠ” í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ì‹œì¦Œì„ ë§ì´í•˜ì—¬ ê²¨ìš¸ì²  ë‹ˆíŠ¸ ì˜ë¥˜ì—ì„œ ì˜ê°ì„ ë°›ì€ íŒ¨í„´ì„ ë””ìì¸í–ˆìŠµë‹ˆë‹¤. ë‹ˆíŠ¸ íŠ¹ìœ ì˜ ì§ì¡° íŒ¨í„´ê³¼ í•˜íŠ¸ ëª¨í‹°í”„ë¥¼ ê²°í•©í•˜ì—¬ ë”°ëœ»í•˜ê³  ì•„ëŠ‘í•œ ëŠë‚Œì„ ì‹œê°ì ìœ¼ë¡œ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ë¥¼ ë³´ëŠ” ì´ë“¤ì´ í¬ë¦¬ìŠ¤ë§ˆìŠ¤ì˜ ë”°ëœ»í•œ ë¶„ìœ„ê¸°ë¥¼ ëŠë‚„ ìˆ˜ ìˆê¸°ë¥¼ ë°”ëë‹ˆë‹¤.
            </p>
        </div>

        <div class="content-box fade-up">
            <h3>ğŸ“ í”„ë¡œì íŠ¸ ê¸°íš</h3>
            
            <h4>ì„ íƒëœ í•µì‹¬ ê¸°ë³¸ ë„í˜•:</h4>
            <ul>
                <li>í•˜íŠ¸ í˜•íƒœ: ë² ì§€ì–´ ê³¡ì„ ì„ í™œìš©í•œ ì¶”ìƒí™”ëœ í•˜íŠ¸ ëª¨ì–‘ì„ íŒ¨í„´ì˜ ì£¼ìš” ëª¨í‹°í”„ë¡œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.</li>
                <li>ì²´í¬ ê·¸ë¦¬ë“œ: ë‹ˆíŠ¸ ì§ì¡°ì˜ íŠ¹ì„±ì„ í‘œí˜„í•˜ê¸° ìœ„í•œ ìˆ˜ì§/ìˆ˜í‰ ì„  íŒ¨í„´ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.</li>
            </ul>

            <h4>ë””ìì¸ ì „ê°œ ê³¼ì •:</h4>
            <div class="pattenre">
                <img src="imges/á„…á…¦á„‘á…¥á„…á…¥á†«á„‰á…³1.jpeg" alt="ë ˆí¼ëŸ°ìŠ¤">
                <img src="imges/á„…á…¦á„‘á…¥á„…á…¥á†«á„‰á…³2.jpeg" alt="ë ˆí¼ëŸ°ìŠ¤">
            </div>
            <p class="concept-text">
                ì´ˆê¸°ì—ëŠ” ë‹¨ìˆœí•œ ì²´í¬ íŒ¨í„´ì„ ê³„íší–ˆìœ¼ë‚˜, ì œì‘ ë‚œì´ë„ì— ëŒ€í•œ í”¼ë“œë°±ì— ë”°ë¼ í•˜íŠ¸ ëª¨í‹°í”„ì˜ ë‹ˆíŠ¸ íŒ¨í„´ìœ¼ë¡œ ë°©í–¥ì„ ì „í™˜í–ˆìŠµë‹ˆë‹¤. ì‹¤ì œ ë‹ˆíŠ¸ ì˜ë¥˜ ë¶„ì„ í›„, í•˜íŠ¸ í˜•íƒœë¡œ ì¶”ìƒí™”í•˜ì—¬ ë°˜ë³µ íŒ¨í„´ìœ¼ë¡œ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
            </p>
            
            <h4>íŒ¨í„´ ë³€ì£¼ë¥¼ ìœ„í•œ ì œì–´ ìš”ì†Œ:</h4>
            <div class="challenge-grid" style="grid-template-columns: 1fr 1fr; gap: 10px;">
                <div style="padding: 10px; border: 1px dashed #557960; border-radius: 5px;">
                    <strong>í•˜íŠ¸ íŒ¨í„´ ë³€ì£¼:</strong>
                    <ul>
                        <li>ë°°ê²½ìƒ‰ ë³€í™”</li>
                        <li>í•˜íŠ¸ í¬ê¸° ì¡°ì ˆ</li>
                        <li>ë‘ ê°€ì§€ ìŠ¤íƒ€ì¼ì˜ í•˜íŠ¸ ìƒ‰ìƒ ë³€í™”</li>
                    </ul>
                </div>
                <div style="padding: 10px; border: 1px dashed #557960; border-radius: 5px;">
                    <strong>ì²´í¬ íŒ¨í„´ ë³€ì£¼:</strong>
                    <ul>
                        <li>ì„¸ ê°€ì§€ ì„ ì˜ êµµê¸°</li>
                        <li>ë‹¤ì–‘í•œ ìƒ‰ìƒ ì¡°í•©</li>
                        <li>ìµœëŒ€í•œ ë‹¤ì–‘í•œ ì²´í¬ ì¡°í•© ìƒì„±</li>
                    </ul>
                </div>
                <div style="padding: 10px; border: 1px dashed #557960; border-radius: 5px;">
                    <strong>í•˜íŠ¸ íŒ¨í„´ ë°˜ë³µ ì•Œê³ ë¦¬ì¦˜(ë²½ëŒì‹ ë°°ì—´):</strong>
                    <p>
                        function drawSoftHeartPattern(ctx, colors, moduleSize) {
                            for (let row = 0; row < numRows + 1; row++) {
                                for (let col = 0; col < numCols + 1; col++) {
                                    let offsetX = 0;
                                    if (row % 2 !== 0) {
                                        offsetX = moduleUnit / 2; 
                                    }
            
                                    const centerX = col * moduleUnit + offsetX;
                                    const centerY = row * moduleUnit;

                                    let heartColor = ((row + col) % 2 === 0) ? colors.color1 : colors.color2; 
            
                                    drawSoftHeartModule(ctx, centerX, centerY, heartSize, heartColor);
                                }
                            }
                        }
                    </p>
                </div>
                <div style="padding: 10px; border: 1px dashed #557960; border-radius: 5px;">
                    <strong>ì²´í¬ íŒ¨í„´ ë°˜ë³µ ì•Œê³ ë¦¬ì¦˜(ë‹¨ìˆœ ê²©ì):</strong>
                    <p>
                    function drawCheckPattern(ctx, colors, moduleSize, lineWidth) {
                        for (let row = 0; row < numRows; row++) {
                            for (let col = 0; col < numCols; col++) {

                            const x = col * moduleSize; 
                            const y = row * moduleSize; 
            
                            const centerX = x + moduleSize / 2;
                            const centerY = y + moduleSize / 2;

                            }
                        }
                    }  
                    </p>
                </div>
            </div>
        </div>

        <div class="content-box fade-up">
            <h3>ğŸš§ ë„ì „ ê³¼ì œì™€ í•´ê²° ì „ëµ</h3>
            <div class="challenge-grid">
                <div class="challenge-item">
                    <strong>ë„ì „ ê³¼ì œ 1: ì´ì¤‘ íŒ¨í„´ êµ¬ì¡° êµ¬í˜„</strong>
                    <p>ë¬¸ì œ: ë‹ˆíŠ¸ ì¬ì§ˆì„ í‘œí˜„í•˜ëŠ” ê¸°ë³¸ íŒ¨í„´ ìœ„ì— í•˜íŠ¸ ëª¨í‹°í”„ë¼ëŠ” ë˜ ë‹¤ë¥¸ íŒ¨í„´ì„ ê²¹ì³ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ë³µì¡í•œ êµ¬ì¡°ì— ì–´ë ¤ì›€ì„ ëŠê¼ˆìŠµë‹ˆë‹¤.</p>
                    <p>í•´ê²° ì „ëµ: íŒ¨í„´ì˜ ìœ ë‹›ì„ ëª¨ë“ˆí™”í•˜ê³  ì¶”ìƒí™”í•˜ì—¬ ê° ë ˆì´ì–´ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ì œì–´í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤. ë ˆì´ì–´ë¥¼ í†µí•´ ë°°ê²½ íŒ¨í„´ê³¼ ëª¨í‹°í”„ íŒ¨í„´ì„ ë¶„ë¦¬í•˜ì—¬ ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤.</p>
                </div>
                <div class="challenge-item">
                    <strong>ë„ì „ ê³¼ì œ 2: ë°˜ë³µ íŒ¨í„´ì˜ ìì—°ìŠ¤ëŸ¬ìš´ ì—°ê²°</strong>
                    <p>ë¬¸ì œ: ë°˜ë³µë˜ëŠ” íŒ¨í„´ ìœ ë‹›ë“¤ì´ ê²½ê³„ì—ì„œ ì–´ìƒ‰í•˜ê²Œ ëŠê¸°ì§€ ì•Šê³  ìì—°ìŠ¤ëŸ½ê²Œ ì´ì–´ì§€ë„ë¡ êµ¬í˜„í•˜ë ¤ê³  ë…¸ë ¥í–ˆìŠµë‹ˆë‹¤.</p>
                    <p>í•´ê²° ì „ëµ: ëª¨ë“ˆëŸ¬ ì—°ì‚°ì„ í™œìš©í•˜ì—¬ ë¬´í•œ ë°˜ë³µì´ ê°€ëŠ¥í•œ êµ¬ì¡° êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.</p>
                </div>
            </div>
            <h4 style="color: #d1c1b1; margin-top: 20px; font-size: 1.1em; text-align: center;">ğŸ‰ í•µì‹¬ í•´ê²°ì±…:</h4>
            <p class="concept-text" style="text-align: center;">
                íŒ¨í„´ì˜ ê¸°ë³¸ ìœ ë‹›ì„ ì² ì €íˆ ì¶”ìƒí™”í•œ ê²ƒì´ ê°€ì¥ íš¨ê³¼ì ì¸ í•´ê²°ì±…ì´ì—ˆìŠµë‹ˆë‹¤. ë³µì¡í•´ ë³´ì´ë˜ ë‹ˆíŠ¸ íŒ¨í„´ë„ í•˜íŠ¸ë¼ëŠ” ë‹¨ìˆœí•œ í˜•íƒœë¡œ ë¶„í•´í•˜ê³  ì´ë¥¼ ë°˜ë³µ ê°€ëŠ¥í•˜ê²Œ ì„¤ê³„í•˜ì ì˜ˆìƒë³´ë‹¤ í›¨ì”¬ ìˆ˜ì›”í•˜ê²Œ ë‹¤ì–‘í•œ ë³€ì£¼ë¥¼ ìƒì„±í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
            </p>
        </div>
        <section>
        <div class="intro-to-editor-circle fade-up">
             <a href="#editor-page">
                 íŒ¨í„´ ì œì‘í•˜ëŸ¬ê°€ê¸°<br>
                
             </a>
        </div>
        </section>
    </section>

    <section id="editor-page" class="page-section">
        
        <div id="controls-container">
            <h2>ğŸ¨ íŒ¨í„´ ì œì‘</h2>
            
            <div class="control-group" style="flex: 1 1 100%; margin-bottom: 25px;">
                <label style="color: #fce8a9; font-weight: bold; display: block; margin-bottom: 5px;">íŒ¨í„´ ì¢…ë¥˜ ì„ íƒ:</label>
                <div id="patternTypeSelector">
                    <label>
                        <input type="radio" name="patternType" value="heart" onchange="changePatternType('heart')"> í•˜íŠ¸ íŒ¨í„´
                    </label>
                    <label>
                        <input type="radio" name="patternType" value="check" checked onchange="changePatternType('check')"> ì²´í¬ íŒ¨í„´
                    </label>
                </div>
            </div>            
            <div id="patternControls">
                
                <div id="moduleSizeGroup" class="control-group">
                    <label for="moduleSizeInput">ëª¨ë“ˆ í¬ê¸° (í”½ì…€, 20~100):</label>
                    <input type="number" id="moduleSizeInput" value="40" min="20" max="100" step="5">
                </div>
                
                <div id="lineWidthGroup" class="control-group" style="display: none;">
                    <label for="lineWidthInput">ì„  ë‘ê»˜ (í”½ì…€, 0~10):</label>
                    <input type="number" id="lineWidthInput" value="2" min="0" max="10" step="0.5">
                </div>
                
                <div id="colorGroup1" class="control-group">
                    <label id="colorLabel1" for="pColor1">ìƒ‰ìƒ 1 (ì²´í¬ìƒ‰ A):</label>
                    <input type="color" id="pColor1" value="#C93030"> 
                </div>
                <div id="colorGroup2" class="control-group">
                    <label id="colorLabel2" for="pColor2">ìƒ‰ìƒ 2 (ì²´í¬ìƒ‰ B):</label>
                    <input type="color" id="pColor2" value="#FFFFFF"> 
                </div>
                <div id="colorGroup3" class="control-group">
                    <label id="colorLabel3" for="pColor3">ìƒ‰ìƒ 3 (ì‹­ìì„  ìƒ‰ê¹”):</label>
                    <input type="color" id="pColor3" value="#006400"> 
                </div>
                <div id="colorGroup4" class="control-group">
                    <label id="colorLabel4" for="pColor4">ìƒ‰ìƒ 4 (ê²©ìì„  ìƒ‰ê¹”):</label>
                    <input type="color" id="pColor4" value="#000000"> 
                </div>                
                <div id="textureSettings">
                    <div class="control-group" style="flex: 1 1 100%;">
                        <label for="textureStyleSelect">ì¬ì§ˆ ì„ íƒ:</label>
                        <select id="textureStyleSelect" onchange="previewPattern()">
                            <option value="none">ì—†ìŒ</option> 
                            <option value="noise">ëœë¤ ë…¸ì´ì¦ˆ</option>
                            <option value="knit">ì„¸ë¡œ ë‹ˆíŠ¸ ë¼ì¸</option>
                            <option value="fur">í„¸ ì¬ì§ˆ</option> 
                        </select>
                    </div>
                </div>
                
                <div id="button-group" class="control-group">
                    <button class="create-button" onclick="previewPattern()">íŒ¨í„´ ì œì‘ (ë¯¸ë¦¬ë³´ê¸°)</button>
                    <button class="download-button" onclick="downloadPattern()">íŒ¨í„´ ë‹¤ìš´ë¡œë“œ (PNG)</button> 
                    <button class="mockup-link-button" onclick="scrollToMockup()">ğŸ–¼ï¸ ëª©ì—… ë³´ëŸ¬ê°€ê¸°</button> 
                </div>
            </div>
        </div>

        <div id="canvas-container">
            <h3>ìƒì„±ëœ ì²´í¬ íŒ¨í„´ ë¯¸ë¦¬ë³´ê¸°</h3>
            <canvas id="patternCanvas" width="600" height="600"></canvas>
            <p id="instructionText">
                â¬›ï¸ ì²´í¬ íŒ¨í„´ ì„¤ì •ì„ ì¤€ë¹„í–ˆìŠµë‹ˆë‹¤.
            </p>
        </div>
    </section>

    <section id="mockup-page" class="page-section">
        <h2>ğŸ–¼ï¸ ëª©ì—… ê°¤ëŸ¬ë¦¬</h2>        
        <div class="category-buttons">
            <button class="category-button active" id="btn-scarf" onclick="showMockups('scarf')">ğŸ§£ ëª©ë„ë¦¬</button>
            <button class="category-button" id="btn-glove" onclick="showMockups('glove')">ğŸ§¤ ì¥ê°‘</button>
            <button class="category-button" id="btn-bowl" onclick="showMockups('bowl')">ğŸ¥£ ê·¸ë¦‡</button>
        </div>

        <div id="image-gallery">
            <div class="mockup-image-box"></div>
            <div class="mockup-image-box"></div>
            <div class="mockup-image-box"></div>
            <div class="mockup-image-box"></div>
        </div>

    </section>
    
    <footer>
        <p>Copyright &copy; 2025 DIGITAL DESIGN PATTERN STUDIO</p>
      
        <p>ê³„ì›ì˜ˆìˆ ëŒ€í•™êµ ì‹œê°ë””ìì¸ê³¼ / ê¹€ì¸ìš° ë°•ì„œí˜„ ì´í™”í˜„ ì •í•˜ë¦°</p>
    </footer>


<script>
    // 1. ì „ì—­ íŒ¨í„´ ì„¤ì • ë³€ìˆ˜ ì •ì˜ (âœ¨ ëˆˆ íš¨ê³¼ ìƒíƒœ ì¶”ê°€)
    let patternSettings = {
        type: 'check', 
        moduleSize: 40,
        lineWidth: 2,
        colors: {
            color1: '#C93030', 
            color2: '#FFFFFF',  
            color3: '#006400', 
            color4: '#000000'  
        },
        texture: {
            style: 'none', 
        },
        isSnowEnabled: true // âœ¨ ëˆˆ íš¨ê³¼ ì´ˆê¸° ìƒíƒœ
    };

    // 2. DOM ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
    const mainCanvas = document.getElementById('patternCanvas');
    const mainCtx = mainCanvas.getContext('2d');
    const instructionText = document.getElementById('instructionText');
    const galleryContainer = document.getElementById('image-gallery');
    const textureStyleSelect = document.getElementById('textureStyleSelect');
    const snowCanvas = document.getElementById('snowCanvas'); // âœ¨ ëˆˆ íš¨ê³¼ ìº”ë²„ìŠ¤
    const snowCtx = snowCanvas.getContext('2d'); // âœ¨ ëˆˆ íš¨ê³¼ ìº”ë²„ìŠ¤ Context
    const snowToggle = document.getElementById('snowToggle'); // âœ¨ ëˆˆ íš¨ê³¼ í† ê¸€ ë²„íŠ¼

    let snowAnimationId = null; // âœ¨ ëˆˆ íš¨ê³¼ ì• ë‹ˆë©”ì´ì…˜ ID

    /* ------------------------------------------------ */
    /* âœ¨ ëˆˆ íš¨ê³¼ êµ¬í˜„ (Snowfall effect) */
    /* ------------------------------------------------ */

    // 1. ëˆˆì†¡ì´ ê°ì²´ ì •ì˜
    class Flake {
        constructor(w, h) {
            this.reset(w, h);
        }

        reset(w, h) {
            this.x = Math.random() * w;
            this.y = Math.random() * h;
            this.r = Math.random() * 4 + 1; // ë°˜ì§€ë¦„ 1px ~ 5px
            this.density = Math.random() * 0.5 + 0.5; // ë°€ë„/ì†ë„
            this.speed = Math.random() * 0.5 + 0.5;
            this.opacity = Math.random() * 0.5 + 0.2;
        }

        update(w, h) {
            // yì¶• ì´ë™ (ë‚™í•˜)
            this.y += this.speed * this.density;
            // xì¶• ì´ë™ (ë°”ëŒ)
            this.x += Math.cos(this.y * 0.05) * 0.5;

            // í™”ë©´ ë°–ìœ¼ë¡œ ë‚˜ê°€ë©´ ë‹¤ì‹œ ìœ„ë¡œ ë¦¬ì…‹
            if (this.y > h) {
                this.y = 0;
                this.x = Math.random() * w;
            }
        }

        draw(ctx) {
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.r, 0, Math.PI * 2, false);
            ctx.fillStyle = `rgba(255, 255, 255, ${this.opacity})`;
            ctx.fill();
        }
    }

    let flakes = [];
    const FLAKE_COUNT = 150; // ëˆˆì†¡ì´ ê°œìˆ˜

    function setupSnowCanvas() {
        snowCanvas.width = window.innerWidth;
        snowCanvas.height = window.innerHeight;

        if (flakes.length === 0) {
            for (let i = 0; i < FLAKE_COUNT; i++) {
                flakes.push(new Flake(snowCanvas.width, snowCanvas.height));
            }
        } else {
            // í™”ë©´ í¬ê¸° ë³€ê²½ ì‹œ ëˆˆì†¡ì´ ìœ„ì¹˜ ì¬ì¡°ì •
            flakes.forEach(flake => flake.reset(snowCanvas.width, snowCanvas.height));
        }
    }

    function drawSnow() {
        if (!patternSettings.isSnowEnabled) {
            snowAnimationId = null;
            return;
        }

        snowCtx.clearRect(0, 0, snowCanvas.width, snowCanvas.height);

        for (let i = 0; i < flakes.length; i++) {
            flakes[i].update(snowCanvas.width, snowCanvas.height);
            flakes[i].draw(snowCtx);
        }

        snowAnimationId = requestAnimationFrame(drawSnow);
    }
    
    // 2. ëˆˆ íš¨ê³¼ í† ê¸€ í•¨ìˆ˜
    function toggleSnow() {
        patternSettings.isSnowEnabled = !patternSettings.isSnowEnabled;
        
        if (patternSettings.isSnowEnabled) {
            snowToggle.textContent = 'â„ï¸ SNOW OFF';
            snowCanvas.style.display = 'block';
            if (!snowAnimationId) { // ì• ë‹ˆë©”ì´ì…˜ì´ ì‹¤í–‰ ì¤‘ì´ ì•„ë‹ ê²½ìš°ì—ë§Œ ì‹œì‘
                 drawSnow();
            }
        } else {
            snowToggle.textContent = 'ğŸŒ¨ï¸ SNOW ON';
            snowCanvas.style.display = 'none';
            if (snowAnimationId) {
                cancelAnimationFrame(snowAnimationId);
                snowAnimationId = null;
            }
        }
    }

    /* ------------------------------------------------ */
    /* íŒ¨í„´ íƒ€ì… ë³€ê²½ í•¨ìˆ˜ (UI ë° ì„¤ì • ì—…ë°ì´íŠ¸) */
    /* ------------------------------------------------ */
    function changePatternType(type) {
        patternSettings.type = type;

        const colorGroup3 = document.getElementById('colorGroup3');
        const colorGroup4 = document.getElementById('colorGroup4');
        const lineWidthGroup = document.getElementById('lineWidthGroup'); 
        
        const colorLabel1 = document.getElementById('colorLabel1');
        const colorLabel2 = document.getElementById('colorLabel2');
        const colorLabel3 = document.getElementById('colorLabel3');
        const canvasTitle = document.querySelector('#canvas-container h3');

        if (type === 'heart') {
            // í•˜íŠ¸ íŒ¨í„´ ì„¤ì • UI
            colorGroup3.style.display = 'block'; 
            colorGroup4.style.display = 'none';
            lineWidthGroup.style.display = 'none'; 
            
            colorLabel1.textContent = 'ìƒ‰ìƒ 1 (í•˜íŠ¸ìƒ‰ A):';
            colorLabel2.textContent = 'ìƒ‰ìƒ 2 (í•˜íŠ¸ìƒ‰ B):';
            colorLabel3.textContent = 'ìƒ‰ìƒ 3 (ë°°ê²½ìƒ‰):';
            canvasTitle.textContent = 'ìƒì„±ëœ í•˜íŠ¸ íŒ¨í„´ ë¯¸ë¦¬ë³´ê¸°';
            instructionText.textContent = `ğŸ’– ë¶€ë“œëŸ¬ìš´ í•˜íŠ¸ íŒ¨í„´ ì„¤ì •ì„ ì¤€ë¹„í–ˆìŠµë‹ˆë‹¤.`;
        } else if (type === 'check') {
            // ì²´í¬ íŒ¨í„´ ì„¤ì • UI (ì„  ê¸°ëŠ¥ ì¶”ê°€)
            colorGroup3.style.display = 'block'; 
            colorGroup4.style.display = 'block'; 
            lineWidthGroup.style.display = 'block'; 
            
            colorLabel1.textContent = 'ìƒ‰ìƒ 1 (ì²´í¬ìƒ‰ A):';
            colorLabel2.textContent = 'ìƒ‰ìƒ 2 (ì²´í¬ìƒ‰ B):';
            colorLabel3.textContent = 'ìƒ‰ìƒ 3 (ì‹­ìì„  ìƒ‰ê¹”):';
            document.getElementById('colorLabel4').textContent = 'ìƒ‰ìƒ 4 (ê²©ìì„  ìƒ‰ê¹”):';
            canvasTitle.textContent = 'ìƒì„±ëœ ì²´í¬ íŒ¨í„´ ë¯¸ë¦¬ë³´ê¸°';
            instructionText.textContent = `â¬›ï¸ ì²´í¬ íŒ¨í„´ ì„¤ì •ì„ ì¤€ë¹„í–ˆìŠµë‹ˆë‹¤.`;
        }
        
        previewPattern();
    }
    
    /* ------------------------------------------------ */
    /* âœ¨ í…ìŠ¤ì²˜ ê·¸ë¦¬ê¸° í•¨ìˆ˜ (ì¬ì§ˆ ê°•ì¡° ìƒíƒœ ìœ ì§€) âœ¨ */
    /* ------------------------------------------------ */

    // 1. ëœë¤ ë…¸ì´ì¦ˆ í…ìŠ¤ì²˜ ê·¸ë¦¬ê¸° (ê³ ì • íˆ¬ëª…ë„, ë” ëˆˆì— ë„ê²Œ)
    function drawNoiseTexture(ctx) { 
        const w = ctx.canvas.width;
        const h = ctx.canvas.height;
        
        const FIXED_ALPHA = 5; 
        const density = w * h / 1000 * (3 * 2); 

        for (let i = 0; i < density; i++) {
            const x = Math.random() * w;
            const y = Math.random() * h;
            
            let noiseAlpha = FIXED_ALPHA * (0.1 + Math.random() * 0.9); 
            
            if (Math.random() > 0.5) {
                ctx.fillStyle = `rgba(255, 255, 255, ${noiseAlpha})`; 
            } 
            else {
                ctx.fillStyle = `rgba(0, 0, 0, ${noiseAlpha * 0.7})`; 
            }
            
            ctx.fillRect(x, y, 1, 1); 
        }
    }

    // 2. ì„¸ë¡œ ë‹ˆíŠ¸ ë¼ì¸ í…ìŠ¤ì²˜ ê·¸ë¦¬ê¸° (ê³ ì • íˆ¬ëª…ë„, ë” ëˆˆì— ë„ê²Œ)
    function drawKnitLineTexture(ctx) { 
        const w = ctx.canvas.width;
        const h = ctx.canvas.height;
        const moduleSize = patternSettings.moduleSize; 

        const lineDistance = moduleSize / 2; 
        const offset = 0.5; 

        ctx.globalAlpha = 0.5; 

        for (let x = 0; x < w + lineDistance; x += lineDistance) {
            
            // 1. í•˜ì´ë¼ì´íŠ¸ (lineWidth ì¦ê°€)
            ctx.strokeStyle = '#FFFFFF'; 
            ctx.lineWidth = 1.5; 
            ctx.beginPath();
            const highlightX = x + lineDistance / 4 + offset; 
            ctx.moveTo(highlightX, 0);
            ctx.lineTo(highlightX, h);
            ctx.stroke();

            // 2. ê·¸ë¦¼ì (lineWidth ì¦ê°€, ê°„ê²© ì¡°ì •)
            ctx.strokeStyle = '#000000'; 
            ctx.lineWidth = 5; 
            ctx.beginPath();
            const shadowX = highlightX + 1.2; 
            ctx.moveTo(shadowX, 0);
            ctx.lineTo(shadowX, h);
            ctx.stroke();
        }
        
        ctx.globalAlpha = 1.0; 
    }

    // 3. í„¸ ì¬ì§ˆ í…ìŠ¤ì²˜ ê·¸ë¦¬ê¸° (ê³ ì • íˆ¬ëª…ë„, ë” ëˆˆì— ë„ê²Œ)
    function drawFurTexture(ctx) { 
        const w = ctx.canvas.width;
        const h = ctx.canvas.height;
        
        const FIXED_OPACITY_FACTOR = 1; 
        
        const density = w * h / 200 * 3.0; 
        const maxLen = 6; 
        const maxDev = 0.5; 

        ctx.globalAlpha = 1.0; 
        
        for (let i = 0; i < density; i++) {
            const startX = Math.random() * w;
            const startY = Math.random() * h;
            
            const length = Math.random() * maxLen + 1; 
            const angle = Math.random() * Math.PI * 2; 
            const deviation = (Math.random() - 0.5) * maxDev; 
            
            const endX = startX + Math.cos(angle + deviation) * length;
            const endY = startY + Math.sin(angle + deviation) * length;
            
            let furAlpha = FIXED_OPACITY_FACTOR * (0.3 + Math.random() * 0.7); 
            
            if (Math.random() > 0.6) {
                ctx.strokeStyle = `rgba(255, 255, 255, ${furAlpha * 1.2})`; 
                ctx.lineWidth = Math.random() * 0.5 + 0.8; 
            } else {
                ctx.strokeStyle = `rgba(0, 0, 0, ${furAlpha * 0.8})`; 
                ctx.lineWidth = Math.random() * 0.3 + 0.4; 
            }
            
            ctx.beginPath();
            ctx.moveTo(startX, startY);
            const controlX = startX + Math.cos(angle) * length * 0.5;
            const controlY = startY + Math.sin(angle) * length * 0.5;
            
            ctx.quadraticCurveTo(controlX, controlY, endX, endY);
            ctx.stroke();
        }
    }


    /* ------------------------------------------------ */
    /* 4. 'íŒ¨í„´ ì œì‘ (ë¯¸ë¦¬ë³´ê¸°)' í•¨ìˆ˜ */
    /* ------------------------------------------------ */
    function previewPattern() {
        // 1. ì…ë ¥ ê°’ ì½ê¸° ë° ìœ íš¨ì„± ê²€ì‚¬
        const tempModuleSize = parseInt(document.getElementById('moduleSizeInput').value) || 40; 
        const validatedSize = Math.max(20, Math.min(100, tempModuleSize));
        
        const tempLineWidth = parseFloat(document.getElementById('lineWidthInput').value) || 0; 
        const validatedLineWidth = Math.max(0, Math.min(10, tempLineWidth));
        
        let tempColors = {
            color1: document.getElementById('pColor1').value,
            color2: document.getElementById('pColor2').value,
            color3: document.getElementById('pColor3').value,
            color4: document.getElementById('pColor4').value 
        };
        
        // âœ¨ ì¬ì§ˆ ì„¤ì • ê°’ ì—…ë°ì´íŠ¸
        patternSettings.texture.style = textureStyleSelect.value;
        const textureStyle = patternSettings.texture.style;

        // 2. ì „ì—­ ì„¤ì • ì—…ë°ì´íŠ¸
        patternSettings.moduleSize = validatedSize;
        patternSettings.lineWidth = validatedLineWidth;
        patternSettings.colors = tempColors;
        document.getElementById('moduleSizeInput').value = validatedSize;
        document.getElementById('lineWidthInput').value = validatedLineWidth;


        // 3. íŒ¨í„´ ê·¸ë¦¬ê¸° (í…ìŠ¤ì²˜ ì ìš© ì „ì— ê¸°ë³¸ íŒ¨í„´ì„ ë¨¼ì € ê·¸ë¦¼)
        if (patternSettings.type === 'heart') {
            drawSoftHeartPattern(mainCtx, patternSettings.colors, patternSettings.moduleSize);
            instructionText.textContent = `ë¶€ë“œëŸ¬ìš´ í•˜íŠ¸ íŒ¨í„´ (í¬ê¸° ${patternSettings.moduleSize}px) ë¯¸ë¦¬ë³´ê¸°ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.`;
        } else if (patternSettings.type === 'check') {
            drawCheckPattern(mainCtx, patternSettings.colors, patternSettings.moduleSize, patternSettings.lineWidth); 
            instructionText.textContent = `ì‹­ìì„ (${patternSettings.colors.color3})ê³¼ ê²©ìì„ (${patternSettings.colors.color4})ì´ ë¶„ë¦¬ëœ ì²´í¬ íŒ¨í„´ (í¬ê¸° ${patternSettings.moduleSize}px, ì„  ë‘ê»˜ ${patternSettings.lineWidth}px) ë¯¸ë¦¬ë³´ê¸°ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.`;
        }
        
        let instructionMessage = instructionText.textContent;

        // 4. âœ¨ ì¬ì§ˆ ì ìš© (ì¬ì§ˆì´ 'none'ì´ ì•„ë‹ ê²½ìš°ì—ë§Œ ì ìš©)
        if (textureStyle !== 'none') {
            if (textureStyle === 'noise') {
                drawNoiseTexture(mainCtx); 
                instructionMessage += ` [ì¬ì§ˆ: ëœë¤ ë…¸ì´ì¦ˆ]`;
            } else if (textureStyle === 'knit') {
                drawKnitLineTexture(mainCtx); 
                instructionMessage += ` [ì¬ì§ˆ: ì„¸ë¡œ ë‹ˆíŠ¸ ë¼ì¸]`;
            } else if (textureStyle === 'fur') { 
                drawFurTexture(mainCtx); 
                instructionMessage += ` [ì¬ì§ˆ: í„¸ ì¬ì§ˆ]`;
            }
        } else {
             instructionMessage += ` [ì¬ì§ˆ: ì—†ìŒ]`;
        }
        
        instructionText.textContent = instructionMessage + ` ë§ˆìŒì— ë“¤ë©´ "íŒ¨í„´ ë‹¤ìš´ë¡œë“œ"ë¥¼ ëˆ„ë¥´ì„¸ìš”.`;
    }
    
    /* ------------------------------------------------ */
    /* ğŸ“¸ 'íŒ¨í„´ ë‹¤ìš´ë¡œë“œ' í•¨ìˆ˜ (ìœ ì§€) */
    /* ------------------------------------------------ */
    function downloadPattern() {
        const canvas = document.getElementById('patternCanvas');
        
        const dataURL = canvas.toDataURL('image/png');
        
        const link = document.createElement('a');
        
        link.href = dataURL;
        link.download = `digital_pattern_${patternSettings.type}_${Date.now()}.png`; 
        
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        
        instructionText.textContent = `ğŸ‰ íŒ¨í„´ ì´ë¯¸ì§€ê°€ 'digital_pattern_...' ì´ë¦„ìœ¼ë¡œ ì„±ê³µì ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!`;
    }


    /* ------------------------------------------------ */
    /* ğŸ’– íŒ¨í„´ ê·¸ë¦¬ê¸° í•¨ìˆ˜ (ìœ ì§€) ğŸ’– */
    /* ------------------------------------------------ */

    function drawSoftHeartModule(ctx, x, y, size, color) {
        ctx.beginPath();
        const halfSize = size / 2;
        const quarterSize = size / 4;
        const eighthSize = size / 8;
        const topY = y - halfSize * 0.4; 

        ctx.moveTo(x, y + halfSize); 
        ctx.bezierCurveTo(x - halfSize * 1.1, topY + quarterSize, x - halfSize * 0.7, topY - eighthSize, x - quarterSize, topY - eighthSize * 2);
        ctx.bezierCurveTo(x - quarterSize * 0.5, topY - eighthSize * 3, x - eighthSize, topY - eighthSize * 3, x, topY);
        ctx.bezierCurveTo(x + eighthSize, topY - eighthSize * 3, x + quarterSize * 0.5, topY - eighthSize * 3, x + quarterSize, topY - eighthSize * 2);
        ctx.bezierCurveTo(x + halfSize * 0.7, topY - eighthSize, x + halfSize * 1.1, topY + quarterSize, x, y + halfSize);

        ctx.closePath();
        ctx.fillStyle = color;
        ctx.fill();
    }
    
    function drawSoftHeartPattern(ctx, colors, moduleSize) {
        ctx.fillStyle = colors.color3; 
        ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);
        
        const moduleUnit = moduleSize; 
        const heartSize = moduleUnit * 0.9; 
        
        const numCols = Math.ceil(ctx.canvas.width / moduleUnit); 
        const numRows = Math.ceil(ctx.canvas.height / moduleUnit); 

        for (let row = 0; row < numRows + 1; row++) { 
            for (let col = 0; col < numCols + 1; col++) { 
                
                let offsetX = 0;
                if (row % 2 !== 0) {
                    offsetX = moduleUnit / 2;
                }
                
                const centerX = col * moduleUnit + offsetX;
                const centerY = row * moduleUnit;

                let heartColor = ((row + col) % 2 === 0) ? colors.color1 : colors.color2;

                drawSoftHeartModule(ctx, centerX, centerY, heartSize, heartColor);
            }
        }
    }


    /* ------------------------------------------------ */
    /* ğŸŒŸ ì²´í¬ íŒ¨í„´ ê·¸ë¦¬ê¸° í•¨ìˆ˜ (ìœ ì§€) ğŸŒŸ */
    /* ------------------------------------------------ */
    function drawCheckPattern(ctx, colors, moduleSize, lineWidth) {
        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height); 
        
        const numCols = Math.ceil(ctx.canvas.width / moduleSize); 
        const numRows = Math.ceil(ctx.canvas.height / moduleSize); 
        
        ctx.lineWidth = lineWidth; 

        const pixelCorrection = (lineWidth % 2 !== 0 ? 0.5 : 0);
        
        // 1. ëª¨ë“ˆ(ì‚¬ê°í˜•) ì±„ìš°ê¸° ë° ë‚´ë¶€ ì‹­ìì„  ê·¸ë¦¬ê¸° (color3 ì‚¬ìš©)
        for (let row = 0; row < numRows; row++) { 
            for (let col = 0; col < numCols; col++) { 
                
                let isEven = (row + col) % 2 === 0;
                let checkColor = isEven ? colors.color1 : colors.color2; 
                
                const x = col * moduleSize;
                const y = row * moduleSize;
                const centerX = x + moduleSize / 2;
                const centerY = y + moduleSize / 2;

                // A. ì‚¬ê°í˜• ì±„ìš°ê¸°
                ctx.fillStyle = checkColor; 
                ctx.fillRect(x, y, moduleSize, moduleSize);
                
                // B. ë‚´ë¶€ ì‹­ìì„  ê·¸ë¦¬ê¸° (color3 ì ìš©)
                if (lineWidth > 0) {
                    ctx.strokeStyle = colors.color3; // ì‹­ìì„  ìƒ‰ê¹”
                    
                    // ê°€ë¡œì„ 
                    ctx.beginPath();
                    ctx.moveTo(x, centerY + pixelCorrection);         
                    ctx.lineTo(x + moduleSize, centerY + pixelCorrection); 
                    ctx.stroke();

                    // ì„¸ë¡œì„ 
                    ctx.beginPath();
                    ctx.moveTo(centerX + pixelCorrection, y);         
                    ctx.lineTo(centerX + pixelCorrection, y + moduleSize); 
                    ctx.stroke();
                }
            }
        }
        
        // 2. ì™¸ë¶€ ê²©ìì„ (ëª¨ë“ˆ ê²½ê³„ì„ ) ê·¸ë¦¬ê¸° (color4 ì‚¬ìš©)
        if (lineWidth > 0) {
            ctx.strokeStyle = colors.color4; // ê²©ìì„  ìƒ‰ê¹”
            
            ctx.beginPath();
            
            // ìˆ˜ì§ì„  (Vertical Lines - ê²½ê³„ì„ )
            for (let col = 0; col <= ctx.canvas.width; col += moduleSize) {
                const drawX = col + pixelCorrection;
                ctx.moveTo(drawX, 0);
                ctx.lineTo(drawX, ctx.canvas.height);
            }

            // ìˆ˜í‰ì„  (Horizontal Lines - ê²½ê³„ì„ )
            for (let row = 0; row <= ctx.canvas.height; row += moduleSize) {
                const drawY = row + pixelCorrection;
                ctx.moveTo(0, drawY);
                ctx.lineTo(ctx.canvas.width, drawY);
            }

            ctx.stroke(); 
        }
    }
    
    /* ------------------------------------------------ */
    /* ğŸ–¼ï¸ ëª©ì—… ìŠ¤í¬ë¡¤ í•¨ìˆ˜ (ìœ ì§€) */
    /* ------------------------------------------------ */
    function scrollToMockup() {
        document.getElementById('mockup-page').scrollIntoView({ behavior: 'smooth' });
    }

    const mockupData = {
        scarf: [
            { id: 1, name: 'ëª©ë„ë¦¬ A', imagePath: 'imges/á„†á…©á†¨á„ƒá…©á„…á…µ1.jpeg' },
            { id: 2, name: 'ëª©ë„ë¦¬ B', imagePath: 'imges/á„†á…©á†¨á„ƒá…©á„…á…µ2.jpeg' },
            { id: 3, name: 'ëª©ë„ë¦¬ C', imagePath: 'imges/á„†á…©á†¨á„ƒá…©á„…á…µ3.jpeg' },
            { id: 4, name: 'ëª©ë„ë¦¬ D', imagePath: 'imges/á„†á…©á†¨á„ƒá…©á„…á…µ4.jpeg' }
        ],
        glove: [
            { id: 1, name: 'ì¥ê°‘ A', imagePath: 'imges/á„Œá…¡á†¼á„€á…¡á†¸1.jpeg' },
            { id: 2, name: 'ì¥ê°‘ B', imagePath: 'imges/á„Œá…¡á†¼á„€á…¡á†¸2.jpeg' },
            { id: 3, name: 'ì¥ê°‘ C', imagePath: 'imges/á„Œá…¡á†¼á„€á…¡á†¸3.jpeg' },
            { id: 4, name: 'ì¥ê°‘ D', imagePath: 'imges/á„Œá…¡á†¼á„€á…¡á†¸4.jpeg' } 
        ],
        bowl: [
            { id: 1, name: 'ê·¸ë¦‡ A', imagePath: 'imges/á„Œá…¡á†¼á„€á…¡á†¸1.jpeg' },
            { id: 2, name: 'ê·¸ë¦‡ B', imagePath: 'imges/á„Œá…¡á†¼á„€á…¡á†¸2.jpeg' },
            { id: 3, name: 'ê·¸ë¦‡ C', imagePath: 'imges/á„Œá…¡á†¼á„€á…¡á†¸3.jpeg' }, 
            { id: 4, name: 'ê·¸ë¦‡ D', imagePath: 'imges/á„Œá…¡á†¼á„€á…¡á†¸4.jpeg' } 
        ]
    };
    
    function showMockups(category) {
        document.querySelectorAll('.category-button').forEach(btn => {
            btn.classList.remove('active');
        });
        document.getElementById(`btn-${category}`).classList.add('active');
        
        const currentData = mockupData[category];
        const categoryName = getCategoryName(category);
        
        let galleryHTML = ``;
        
        if (currentData.length > 0) {
            currentData.forEach(item => {
                let content;
                // ì´ë¯¸ì§€ ê²½ë¡œê°€ 'ì—¬ê¸°ì—_'ë¡œ ì‹œì‘í•˜ì§€ ì•Šìœ¼ë©´ ì‹¤ì œ ì´ë¯¸ì§€ ì‚¬ìš©
                if (!item.imagePath.startsWith('ì—¬ê¸°ì—_')) {
                    content = `<img src="${item.imagePath}" alt="${item.name}">`;
                } else {
                    // ì´ë¯¸ì§€ ê²½ë¡œê°€ ì§€ì •ë˜ì§€ ì•Šì•˜ì„ ê²½ìš° ì•ˆë‚´ ë¬¸êµ¬ í‘œì‹œ
                    content = ``;
                }

                galleryHTML += `
                    <div class="mockup-image-box">
                        ${content}
                    </div>
                `;
            });
        }

        galleryContainer.innerHTML = galleryHTML;
    }

    function getCategoryName(category) {
        switch (category) {
            case 'scarf': return 'ëª©ë„ë¦¬';
            case 'glove': return 'ì¥ê°‘';
            case 'bowl': return 'ê·¸ë¦‡';
            default: return 'ì•„ì´í…œ';
        }
    }
    

    /* ------------------------------------------------ */
    /* âœ¨ ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜ JavaScript ë¡œì§ (ìœ ì§€) */
    /* ------------------------------------------------ */
    function setupScrollAnimation() {
        const observerOptions = {
            root: null, // ë·°í¬íŠ¸ë¥¼ ê¸°ì¤€ìœ¼ë¡œ
            rootMargin: '0px',
            threshold: 0.2 // ìš”ì†Œê°€ ë·°í¬íŠ¸ì˜ 20% ì´ìƒ ë³´ì¼ ë•Œ
        };

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    // ìš”ì†Œê°€ ë³´ì¼ ë•Œ in-view í´ë˜ìŠ¤ ì¶”ê°€
                    entry.target.classList.add('in-view');
                    // í•œë²ˆ ì‹¤í–‰ í›„ ê´€ì°° ì¤‘ë‹¨
                    observer.unobserve(entry.target); 
                }
            });
        }, observerOptions);

        // 'fade-up' í´ë˜ìŠ¤ë¥¼ ê°€ì§„ ëª¨ë“  ìš”ì†Œì— ëŒ€í•´ ê´€ì°° ì‹œì‘
        document.querySelectorAll('.fade-up').forEach((element, index) => {
            // ì• ë‹ˆë©”ì´ì…˜ ìˆœì°¨ì ìœ¼ë¡œ ë‚˜íƒ€ë‚˜ë„ë¡ delay ì„¤ì • (ì„ íƒ ì‚¬í•­)
            element.style.animationDelay = `${index * 0.15}s`; 
            observer.observe(element);
        });
    }

    /* ------------------------------------------------ */
    /* 3. UI ì´ˆê¸° ì„¤ì • ë° ì—…ë°ì´íŠ¸ í•¨ìˆ˜ */
    /* ------------------------------------------------ */
    function initializeControls() {
        document.getElementById('moduleSizeInput').value = patternSettings.moduleSize;
        document.getElementById('pColor1').value = patternSettings.colors.color1;
        document.getElementById('pColor2').value = patternSettings.colors.color2;
        document.getElementById('pColor3').value = patternSettings.colors.color3;
        document.getElementById('pColor4').value = patternSettings.colors.color4; 

        document.getElementById('lineWidthInput').value = patternSettings.lineWidth;
        
        // âœ¨ ì¬ì§ˆ ì„ íƒ í•­ëª© ì´ˆê¸°ê°’ ì„¤ì •
        textureStyleSelect.value = patternSettings.texture.style;
        
        // âœ¨ ëˆˆ íš¨ê³¼ ì´ˆê¸° ì„¤ì •
        setupSnowCanvas();
        toggleSnow(); // ê¸°ë³¸ê°’ trueì´ë¯€ë¡œ ì´ˆê¸° ì‹¤í–‰
        window.addEventListener('resize', setupSnowCanvas);

        document.querySelector(`input[name="patternType"][value="${patternSettings.type}"]`).checked = true;
        changePatternType(patternSettings.type); 
        
        // âœ¨ ëª©ì—… ê°¤ëŸ¬ë¦¬ ì´ˆê¸° ë¡œë“œ
        showMockups('scarf'); 
        
        // âœ¨ ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜ ì„¤ì • í•¨ìˆ˜ í˜¸ì¶œ
        setupScrollAnimation();
    }

    // 6. ì´ˆê¸° ì‹¤í–‰
    window.onload = () => {
        initializeControls(); 
    };

</script>
</body>
</html>
